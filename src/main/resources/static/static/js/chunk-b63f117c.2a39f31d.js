(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b63f117c"],{"1d10":function(e,t,n){},"6b23":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"settings"},[n("span",[e._v(e._s(e.$t("table.Recording")))]),e._v(" "),n("el-input",{on:{change:e.inputNumber},model:{value:e.form.trajectoryReserveDays,callback:function(t){e.$set(e.form,"trajectoryReserveDays",e._n(t))},expression:"form.trajectoryReserveDays"}}),e._v("\n    "+e._s(e.$t("table.day"))+"\n  ")],1),e._v(" "),n("div",{staticClass:"settings"},[n("span",[e._v(e._s(e.$t("table.FacilityRecordsDownload")))]),e._v(" "),n("el-button",{attrs:{type:"primary",plain:""},on:{click:e.downloadSystemConfig}},[e._v(e._s(e.$t("table.ExcelDownload")))])],1),e._v(" "),n("div",{staticClass:"settings"},[n("span",[e._v("("+e._s(e.$t("table.LastDownloadTime"))+"："+e._s(e.form.lastBackupTime)+")")])])])},a=[],s=(n("96cf"),n("3b8d")),o=(n("3b2b"),n("b775"));function c(e){return Object(o["a"])({url:"/configs",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/configs",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/trajectories/download",method:"get",responseType:e})}var l={data:function(){return{form:{trajectoryReserveDays:""},loading:!1}},created:function(){this.getSystemConfigs()},methods:{check:function(e){var t=new RegExp("^[0-9]*$"),n=t.test(e);return n},inputNumber:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.check(this.form.trajectoryReserveDays),t){e.next=5;break}return this.$message.warning("Not Number!"),this.form.trajectoryReserveDays="",e.abrupt("return");case 5:return this.loading=!0,e.next=8,i(this.form);case 8:e.sent,this.loading=!1,this.getSystemConfigs(),this.$message.success("Success");case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getSystemConfigs:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:t=e.sent,n=t.data,this.form=n;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),downloadSystemConfig:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u("blob").then((function(e){console.log(e,"aaaaaaa");var t=document.createElement("a"),n=new Blob([e.data],{type:"application/vnd.ms-excel"});t.style.display="none",t.href=URL.createObjectURL(n);var r=Math.ceil(1e3*Math.random());t.setAttribute("download","用户_"+r+".xlsx"),document.body.appendChild(t),t.click(),document.body.removeChild(t)})).catch((function(e){t.$Notice.error({title:"错误",desc:"网络连接错误"})}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}},d=l,f=(n("a382"),n("2877")),p=Object(f["a"])(d,r,a,!1,null,null,null);t["default"]=p.exports},a382:function(e,t,n){"use strict";var r=n("1d10"),a=n.n(r);a.a}}]);