(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b63f117c"],{"1d10":function(e,t,n){},"6b23":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"settings"},[n("span",[e._v(e._s(e.$t("table.Recording")))]),e._v(" "),n("el-input",{on:{change:e.inputNumber},model:{value:e.form.trajectoryReserveDays,callback:function(t){e.$set(e.form,"trajectoryReserveDays",e._n(t))},expression:"form.trajectoryReserveDays"}}),e._v("\n    "+e._s(e.$t("table.day"))+"\n  ")],1),e._v(" "),n("div",{staticClass:"settings"},[n("span",[e._v(e._s(e.$t("table.mileageMultiple")))]),e._v(" "),n("el-input",{on:{change:e.changemIleageMultiple},model:{value:e.form.mileageMultiple,callback:function(t){e.$set(e.form,"mileageMultiple",t)},expression:"form.mileageMultiple"}})],1),e._v(" "),n("div",{staticClass:"settings"},[n("span",[e._v(e._s(e.$t("table.FacilityRecordsDownload")))]),e._v(" "),n("el-button",{attrs:{type:"primary",plain:""},on:{click:e.downloadSystemConfig}},[e._v(e._s(e.$t("table.ExcelDownload")))])],1),e._v(" "),n("div",{staticClass:"settings"},[n("span",[e._v("("+e._s(e.$t("table.LastDownloadTime"))+"ï¼š"+e._s(e.form.lastBackupTime)+")")])])])},r=[],s=(n("96cf"),n("3b8d")),i=(n("3b2b"),n("b775"));function o(e){return Object(i["a"])({url:"/configs",method:"get",params:e})}function c(e){return Object(i["a"])({url:"/configs",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/trajectories/download",method:"get",responseType:e})}var l={data:function(){return{form:{trajectoryReserveDays:"",mileageMultiple:""},loading:!1}},created:function(){this.getSystemConfigs()},methods:{check:function(e){var t=new RegExp("^(([0-9]+\\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\\.[0-9]+)|([0-9]*[1-9][0-9]*))$"),n=t.test(e);return n},inputNumber:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.check(this.form.trajectoryReserveDays),t){e.next=5;break}return this.$message.warning("Not Number!"),this.form.trajectoryReserveDays="",e.abrupt("return");case 5:this.loading=!0,c(this.form).then((function(e){n.loading=!1,n.getSystemConfigs(),n.$message.success("Success")})).catch((function(e){n.loading=!1}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changemIleageMultiple:function(){var e=this,t=this.check(this.form.mileageMultiple);if(!t)return this.$message.warning("Not Number!"),void(this.form.mileageMultiple="");this.loading=!0,c(this.form).then((function(t){e.loading=!1,e.getSystemConfigs(),e.$message.success("Success")})).catch((function(t){e.loading=!1}))},getSystemConfigs:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:t=e.sent,n=t.data,this.form=n;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),downloadSystemConfig:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,u("blob").then((function(e){var n=document.createElement("a"),a=new Blob([e.data],{type:"application/vnd.ms-excel"});n.style.display="none",n.href=URL.createObjectURL(a),n.setAttribute("download",t.$t("table.FacilityRecordsDownload")+".xlsx"),document.body.appendChild(n),n.click(),document.body.removeChild(n)})).catch((function(e){n.$Notice.error({title:"error",desc:e})}));case 3:e.sent;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},m=l,f=(n("a382"),n("2877")),d=Object(f["a"])(m,a,r,!1,null,null,null);t["default"]=d.exports},a382:function(e,t,n){"use strict";var a=n("1d10"),r=n.n(a);r.a}}]);