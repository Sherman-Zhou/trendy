(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09bb1a41"],{"13a9":function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"k",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return f}));var i=n("b775");function a(e){return Object(i["a"])({url:"/monitor/vehicles/search",method:"get",params:e})}function r(e){return Object(i["a"])({url:"/internal/equipment/lock",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/monitor/vehicle/current-state/".concat(e),method:"get"})}function l(e){return Object(i["a"])({url:"/monitor/trajectories",method:"get",params:e})}function c(e){return Object(i["a"])({url:"/vehicle-maintenances",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/vehicle-maintenances",method:"post",data:e})}function u(e){return Object(i["a"])({url:"/vehicle-maintenances",method:"put",data:e})}function m(e,t){return Object(i["a"])({url:"/vehicle-maintenances/".concat(e),method:"get",params:t})}function h(e){return Object(i["a"])({url:"/vehicle-maintenances/".concat(e),method:"delete"})}function d(e,t){return Object(i["a"])({url:"monitor/trajectoryIds/".concat(e),method:"get",params:t})}function f(e){return Object(i["a"])({url:"/monitor/trajectory-details",method:"get",params:e})}},1832:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c}));var i=n("b775");function a(e){return Object(i["a"])({url:"/dict-types/VEHICLE-BRAND/".concat(e),method:"get"})}function r(e){return Object(i["a"])({url:"/vehicles",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/vehicles/sync",method:"get",params:e})}function l(e){return Object(i["a"])({url:"/vehicles/".concat(e),method:"get"})}function c(e){return Object(i["a"])({url:"/vehicles",method:"put",data:e})}},"67e1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("f576");function i(e){var t=new Date(e),n=t.getFullYear(),i=(t.getMonth()+1+"").padStart(2,"0"),a=(t.getDate()+"").padStart(2,"0"),r=(t.getHours()+"").padStart(2,"0"),s=(t.getMinutes()+"").padStart(2,"0"),l=(t.getSeconds()+"").padStart(2,"0");return"".concat(n,"-").concat(i,"-").concat(a," ").concat(r,":").concat(s,":").concat(l)}},7615:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"status_title"},[e._v(e._s(e.$t("table.CarsMaintenance")))]),e._v(" "),n("div",{staticClass:"filter-container"},[n("div",{staticClass:"filter-left basicCarsInformation"},[e._v("\n      "+e._s(e.$t("table.BasicCarsInformation"))+"：\n      "),n("span",{staticClass:"tankVolume"},[e._v("\n        "+e._s(e.$t("table.initMileage"))+"：\n        "),n("el-input",{on:{change:e.changeInitMileage},model:{value:e.vehicleDetails.initMileage,callback:function(t){e.$set(e.vehicleDetails,"initMileage",t)},expression:"vehicleDetails.initMileage"}}),e._v("Km\n      ")],1),e._v(" "),n("span",{staticClass:"tankVolume"},[e._v("\n        "+e._s(e.$t("table.OilBoxcapacity"))+"：\n        "),n("el-input",{on:{change:e.inputNumber},model:{value:e.vehicleDetails.tankVolume,callback:function(t){e.$set(e.vehicleDetails,"tankVolume",t)},expression:"vehicleDetails.tankVolume"}}),e._v("L\n      ")],1),e._v(" "),n("span",{staticClass:"tankVolume"},[e._v("\n        "+e._s(e.$t("table.Oilconsumption"))+"：\n        "),n("el-input",{on:{change:e.changeFuelConsumption},model:{value:e.vehicleDetails.fuelConsumption,callback:function(t){e.$set(e.vehicleDetails,"fuelConsumption",t)},expression:"vehicleDetails.fuelConsumption"}}),e._v("Km/L\n      ")],1),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.Reset}},[e._v(e._s(e.$t("table.Reset")))])],1)]),e._v(" "),n("div",{staticClass:"filter-container"},[n("div",{staticClass:"filter-left"},[e._v(e._s(e.$t("table.MaintenanceInformation")))])]),e._v(" "),n("div",{staticClass:"filter-container"},[n("div",{staticClass:"filter-left maintenance"},[n("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v(e._s(e.$t("table.AddMaintenance")))]),e._v(" "),n("div",[e._v(e._s(e.$t("table.Prediction"))+"："+e._s(e.$t("table.RemainingOil"))+"："+e._s(e.VehicleStateDTO.remainingFuel)+" L")]),e._v(" "),n("div",[e._v(e._s(e.$t("table.MileageRightnow"))+"："+e._s(e.VehicleStateDTO.totalMileage)+" Km")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v(e._s(e.$t("table.Refresh")))])],1)]),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",border:"",size:"small"}},[n("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"80"}}),e._v(" "),n("el-table-column",{attrs:{prop:"createdDate",label:e.$t("table.Time"),align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"fuel",label:e.$t("table.FuelRemaining")+"(L)",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"mileage",label:e.$t("table.Mileage")+"(Km)",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"lastModifiedBy",label:e.$t("table.Recorder"),align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"remark",label:e.$t("table.remark"),align:"center"}}),e._v(" "),n("el-table-column",{attrs:{label:e.$t("table.Operation"),align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{plain:"",size:"mini",type:"primary"},on:{click:function(n){return e.edit(t.row)}}},[n("span",[e._v(e._s(e.$t("table.edit")))])]),e._v(" "),n("el-button",{attrs:{plain:"",size:"mini",type:"danger"},on:{click:function(n){return e.del(t.row)}}},[n("span",[e._v(e._s(e.$t("table.delete")))])])]}}])})],1),e._v(" "),n("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,"close-on-click-modal":!1,"destroy-on-close":!0,width:"40%"},on:{close:e.close}},[n("el-form",{ref:"form",staticClass:"dialog-form-container form_cars",attrs:{model:e.form,"label-width":"130px"}},[n("el-form-item",{attrs:{label:e.$t("table.FuelRemaining")}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.fuel,callback:function(t){e.$set(e.form,"fuel",t)},expression:"form.fuel"}}),e._v("L\n      ")],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("table.Mileage")}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.mileage,callback:function(t){e.$set(e.form,"mileage",t)},expression:"form.mileage"}}),e._v("Km\n        "),n("div",{staticClass:"banner_title"},[e._v("（里程數：錶盤讀取）")])],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("table.Recorder")}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.lastModifiedBy,callback:function(t){e.$set(e.form,"lastModifiedBy",t)},expression:"form.lastModifiedBy"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("table.remark")}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{plain:""},on:{click:e.close}},[e._v(e._s(e.$t("permission.cancel")))]),e._v(" "),n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary",plain:""},on:{click:e.save}},[e._v(e._s(e.$t("permission.confirm")))])],1)],1)],1)},a=[],r=(n("c5f6"),n("3b2b"),n("ac6a"),n("96cf"),n("3b8d")),s=n("67e1"),l=n("13a9"),c=n("1832"),o={props:{vehicleId:{default:function(){return""}},vehicleDetails:{default:function(){return{}},type:Object}},data:function(){return{value1:"",filter:{},loading:!1,list:[],form:{id:"",vehicleId:""},id:"",dialogVisible:!1,dialogTitle:this.$t("table.add"),VehicleStateDTO:{}}},mounted:function(){this.form.vehicleId=this.vehicleId},created:function(){this.getMaintenancese(),this.getCurrentState(),console.log(this.vehicleDetails,"aaaaaaaaaaaaaaaaa")},watch:{vehicleId:function(e,t){console.log(e),this.form.vehicleId=e,this.getMaintenancese(),this.getCurrentState()}},methods:{search:function(){this.getMaintenancese(),this.getCurrentState()},getMaintenancese:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,Object(l["e"])({vehicleId:this.vehicleId});case 3:t=e.sent,n=t.data,n.forEach((function(e){e.createdDate=Object(s["a"])(e.createdDate)})),this.list=n,this.loading=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getCurrentState:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["d"])(this.vehicleId);case 2:t=e.sent,n=t.data,n.equipment||(n.equipment={}),n.trajectoryDetails||(n.trajectoryDetails={}),this.VehicleStateDTO=n;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),check:function(e){var t=new RegExp("^(([0-9]+\\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\\.[0-9]+)|([0-9]*[1-9][0-9]*))$"),n=t.test(e);return n},changeInitMileage:function(){this.vehicleDetails.initMileage=Number(this.vehicleDetails.initMileage);var e=this.check(this.vehicleDetails.initMileage);e||this.$message.warning("Not Number!")},inputNumber:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.vehicleDetails.tankVolume=Number(this.vehicleDetails.tankVolume),t=this.check(this.vehicleDetails.tankVolume),t){e.next=5;break}return this.$message.warning("Not Number!"),e.abrupt("return");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeFuelConsumption:function(){this.vehicleDetails.fuelConsumption=Number(this.vehicleDetails.fuelConsumption);var e=this.check(this.vehicleDetails.fuelConsumption);e||this.$message.warning("Not Number!")},Reset:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.vehicleDetails.initMileage){e.next=3;break}return this.$message.warning("Not Number!"),e.abrupt("return");case 3:if(this.vehicleDetails.tankVolume){e.next=6;break}return this.$message.warning("Not Number!"),e.abrupt("return");case 6:if(this.vehicleDetails.fuelConsumption){e.next=9;break}return this.$message.warning("Not Number!"),e.abrupt("return");case 9:return e.next=11,Object(c["e"])(this.vehicleDetails);case 11:e.sent,this.$emit("cb",this.vehicleId);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),add:function(){this.dialogVisible=!0},edit:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.id=t.id,this.dialogTitle=this.$t("table.edit"),e.next=4,Object(l["f"])(this.id);case 4:n=e.sent,i=n.data,this.form=i,this.dialogVisible=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),save:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.id){e.next=9;break}return e.next=3,Object(l["a"])(this.form);case 3:t=e.sent,t.data,this.getMaintenancese(),this.dialogVisible=!1,e.next=18;break;case 9:return n={vehicleId:this.vehicleId,id:this.form.id,lastModifiedBy:this.form.lastModifiedBy,fuel:this.form.fuel,mileage:this.form.mileage,remark:this.form.remark},e.next=12,Object(l["c"])(n);case 12:i=e.sent,i.data,this.getMaintenancese(),this.dialogVisible=!1,this.form={},this.id="";case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),close:function(){this.dialogVisible=!1},del:function(e){var t=this,n=this;this.$confirm(this.$t("permission.delete"),{confirmButtonText:this.$t("permission.confirm"),cancelButtonText:this.$t("permission.cancel"),type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["b"])(e.id);case 2:t.sent,n.$message({message:"success",type:"success"}),n.getMaintenancese();case 5:case"end":return t.stop()}}),t)})))).catch((function(){n.$message({type:"info",message:t.$t("permission.cancel")})}))}}},u=o,m=(n("b9d7"),n("2877")),h=Object(m["a"])(u,i,a,!1,null,null,null);t["default"]=h.exports},b9d7:function(e,t,n){"use strict";var i=n("d898"),a=n.n(i);a.a},d898:function(e,t,n){}}]);