(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d2539630"],{"13a9":function(t,e,r){"use strict";r.d(e,"g",(function(){return n})),r.d(e,"m",(function(){return i})),r.d(e,"l",(function(){return c})),r.d(e,"h",(function(){return o})),r.d(e,"d",(function(){return u})),r.d(e,"i",(function(){return l})),r.d(e,"e",(function(){return s})),r.d(e,"a",(function(){return d})),r.d(e,"c",(function(){return h})),r.d(e,"f",(function(){return p})),r.d(e,"b",(function(){return f})),r.d(e,"k",(function(){return m})),r.d(e,"j",(function(){return v}));var a=r("b775");function n(t){return Object(a["a"])({url:"/monitor/vehicles/search",method:"get",params:t})}function i(t){return Object(a["a"])({url:"/internal/equipment/lock",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/external/equipment/queryFireStatus",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/external/equipment/queryLock",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/monitor/vehicle/current-state/".concat(t),method:"get"})}function l(t){return Object(a["a"])({url:"/monitor/trajectories",method:"get",params:t})}function s(t){return Object(a["a"])({url:"/vehicle-maintenances",method:"get",params:t})}function d(t){return Object(a["a"])({url:"/vehicle-maintenances",method:"post",data:t})}function h(t){return Object(a["a"])({url:"/vehicle-maintenances",method:"put",data:t})}function p(t,e){return Object(a["a"])({url:"/vehicle-maintenances/".concat(t),method:"get",params:e})}function f(t){return Object(a["a"])({url:"/vehicle-maintenances/".concat(t),method:"delete"})}function m(t,e){return Object(a["a"])({url:"monitor/trajectoryIds/".concat(t),method:"get",params:e})}function v(t){return Object(a["a"])({url:"/monitor/trajectory-details",method:"get",params:t})}},"67e1":function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));r("f576");function a(t){var e=new Date(t),r=e.getFullYear(),a=(e.getMonth()+1+"").padStart(2,"0"),n=(e.getDate()+"").padStart(2,"0"),i=(e.getHours()+"").padStart(2,"0"),c=(e.getMinutes()+"").padStart(2,"0"),o=(e.getSeconds()+"").padStart(2,"0");return"".concat(r,"-").concat(a,"-").concat(n," ").concat(i,":").concat(c,":").concat(o)}},"7e63":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"status_title"},[t._v(t._s(t.$t("table.PlayRecording")))]),t._v(" "),r("div",{staticClass:"filter-container"},[r("div",{staticClass:"filter-left",attrs:{id:"recording-id"}},[r("el-radio",{attrs:{label:"1"},model:{value:t.radio1,callback:function(e){t.radio1=e},expression:"radio1"}},[t._v(t._s(t.$t("table.RecordingID"))+":")]),t._v(" "),r("el-select",{attrs:{filterable:"",clearable:"",placeholder:t.$t("table.RecordID")},model:{value:t.query.trajectoryId,callback:function(e){t.$set(t.query,"trajectoryId",e)},expression:"query.trajectoryId"}},t._l(t.trajectoryIds,(function(t,e){return r("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1)]),t._v(" "),r("div",{staticClass:"filter-container"},[r("div",{staticClass:"filter-left accordingTime"},[r("div",[r("el-radio",{attrs:{label:"2"},model:{value:t.radio1,callback:function(e){t.radio1=e},expression:"radio1"}},[t._v(t._s(t.$t("table.AccordingTime"))+":")]),t._v(" "),r("el-date-picker",{attrs:{type:"datetimerange","range-separator":"-","start-placeholder":t.$t("table.StartingTime"),"end-placeholder":t.$t("table.EndingTime")},on:{change:t.changeDate},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),t._v(" "),r("el-button",{staticClass:"checkRecording",attrs:{type:"primary"},on:{click:t.search}},[t._v(t._s(t.$t("table.CheckRecording")))])],1)])]),t._v(" "),r("div",{staticStyle:{width:"90%",height:"550px"},attrs:{id:"map"}}),t._v(" "),r("div",{staticClass:"filter-container"},[r("div",{staticClass:"filter-left speed"},[r("div",[t._v(t._s(t.$t("table.ExactlySpeed"))+":"+t._s(t.actualSpeed)+"Km/h")]),t._v(" "),r("div",[t._v(t._s(t.$t("table.TotalMileageRecords"))+":"+t._s(t.totalMileage)+"Km")])])])])},n=[],i=(r("ac6a"),r("96cf"),r("3b8d")),c=r("67e1"),o=r("13a9"),u={props:{vehicleId:{default:function(){return""}}},data:function(){return{value1:"",radio1:"1",query:{startDate:"",endDate:"",trajectoryId:"",trajectoryIds:"",vehicleId:""},loading:!1,trajectoryIds:[],driverlist:[],center:{lat:35.667373,lng:139.89358},place:null,request:null,totalMileage:"0",actualSpeed:"0"}},mounted:function(){this.initMap(),this.query.vehicleId=this.vehicleId},created:function(){this.getTrajectoryIds()},watch:{vehicleId:function(t,e){console.log(t),this.query.vehicleId=t,this.getTrajectoryIds()}},methods:{changeDate:function(t){t?(this.query.startDate=Object(c["a"])(t[0]),this.query.endDate=Object(c["a"])(t[1])):(this.query.startDate="",this.query.endDate="")},getTrajectoryIds:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["k"])(this.vehicleId);case 2:e=t.sent,r=e.data,this.trajectoryIds=r;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),search:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this,this.vehicleId){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Object(o["j"])(this.query);case 5:r=t.sent,a=r.data,this.center=a[0],this.driverlist=a,n=0,a.length>0&&(a.forEach((function(t){n+=t.actualSpeed})),this.actualSpeed=(n/a.length).toFixed(2),a[0].mileage&&(i=a[a.length-1].mileage-a[0].mileage,this.totalMileage=i.toFixed(2))),setTimeout((function(){e.initMap()}),10);case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initMap:function(){var t=this.center,e=new google.maps.Map(document.getElementById("map"),{center:t,zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,panControl:!1,zoomControl:!0,streetViewControl:!1});this.drawDriverRoute(e)},drawDriverRoute:function(t){for(var e=this.driverlist,r=new google.maps.Polyline({path:e,geodesic:!0,strokeColor:"#0000FF",strokeOpacity:.8,strokeWeight:6}),a=0;a<e.length;a++)new google.maps.Marker({position:e[a],map:t});r.setMap(t)}}},l=u,s=(r("87bb"),r("2877")),d=Object(s["a"])(l,a,n,!1,null,null,null);e["default"]=d.exports},"87bb":function(t,e,r){"use strict";var a=r("e13c"),n=r.n(a);n.a},e13c:function(t,e,r){}}]);