(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0df483"],{"88f3":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,"close-on-click-modal":!1,"destroy-on-close":!0,width:"40%"},on:{close:e.close}},[a("el-form",{ref:"form",staticClass:"dialog-form-container",attrs:{width:"40%",model:e.form,"label-width":"130px",rules:e.rules}},[a("el-form-item",{attrs:{label:e.$t("table.account"),prop:"login"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.login,callback:function(t){e.$set(e.form,"login",t)},expression:"form.login"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("login.password"),prop:"password"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.Name"),prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.Sex"),prop:"sex"}},[a("el-select",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.options,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),"admin"==e.login?a("el-form-item",{attrs:{label:e.$t("table.Platform"),prop:"merchantId"}},[a("el-select",{on:{change:e.changeMerchantId},model:{value:e.form.merchantId,callback:function(t){e.$set(e.form,"merchantId",t)},expression:"form.merchantId"}},e._l(e.merchants,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1):e._e(),e._v(" "),"admin"!=e.login?a("el-form-item",{attrs:{label:e.$t("table.Role"),prop:"roleId"}},[a("el-select",{on:{change:e.changeRoles},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}},e._l(e.roles,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.Phone"),prop:"phone"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.mobileNo,callback:function(t){e.$set(e.form,"mobileNo",t)},expression:"form.mobileNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"E-mail",prop:"email"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.Address"),prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("table.remark"),prop:"remark"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:""},on:{click:e.close}},[e._v(e._s(e.$t("permission.cancel")))]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary",plain:""},on:{click:e.save}},[e._v(e._s(e.$t("permission.confirm")))])],1)],1)},o=[],n=(a("7f7f"),a("ac6a"),a("96cf"),a("3b8d")),l=a("db72"),s=(a("c5f6"),a("ed08")),i=(a("61f7"),a("c24f")),c=a("2f62"),m={name:"Dialog",props:{id:{default:function(){return""},type:String},status:{default:function(){return 0},type:Number},formData:{default:function(){return{}},type:Object},visible:{default:function(){return!1},type:Boolean}},data:function(){return{login:"",loading:!1,form:{id:"",login:"",name:"",sex:"",roleName:"",mobileNo:"",email:"",address:"",remark:"",avatar:"",divisionIds:[0],langKey:"",password:"",roleIds:[0],status:"A"},roles:[],options:[{value:"M",label:this.$t("login.Male")},{value:"F",label:this.$t("login.Female")},{value:"U",label:this.$t("login.Unknown")}],rules:{login:[{required:!0,message:this.$t("table.account"),trigger:["blur","change"]}],merchantId:[{required:!0,message:this.$t("table.Platform"),trigger:["change"]}]},merchants:[]}},computed:Object(l["a"])({dialogVisible:function(){var e=!1;return this.visible&&(e=!0),e},dialogTitle:function(){var e=this.$t("table.add");return 1===this.status&&(e=this.$t("table.edit")),e}},Object(c["c"])({getters:function(e){return e.app.language}})),created:function(){this.getUserRoles(),this.form.langKey=this.getters,this.login=this.$store.getters.login,"admin"==this.login&&this.getMerchants()},methods:{getMerchants:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["f"])();case 2:t=e.sent,a=t.data,this.merchants=a;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getUserRoles:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,1===this.status&&(this.form=Object(s["c"])(this.formData)),e.next=4,Object(i["i"])();case 4:a=e.sent,r=a.data,t.form.roleName&&(t.form.roleIds=[],r.forEach((function(e){e.name==t.form.roleName&&t.form.roleIds.push(e.id)}))),this.roles=r;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeMerchantId:function(e){var t=this;this.merchants.forEach((function(a){a.id==e&&(t.form.merchantName=a.merchantName)}))},changeRoles:function(e){var t=this;t.form.roleIds=[],this.roles.forEach((function(a){a.id==e&&(t.form.roleIds.push(e),t.form.roleName=a.name)}))},save:function(){var e=this,t=this;this.$refs.form.validate(function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(r){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r){a.next=17;break}if(t.loading=!0,0!==t.status){a.next=11;break}return a.next=5,Object(i["a"])(t.form);case 5:a.sent,e.$message.success("success"),e.$emit("cb","refresh"),e.loading=!1,a.next=17;break;case 11:return a.next=13,Object(i["n"])(t.form);case 13:o=a.sent,console.log(o,"aaaaaaaaaaa"),e.$emit("cb","refresh"),e.loading=!1;case 17:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},close:function(){this.$emit("cb","close")}}},f=m,u=a("2877"),d=Object(u["a"])(f,r,o,!1,null,"7c0a8808",null);t["default"]=d.exports}}]);