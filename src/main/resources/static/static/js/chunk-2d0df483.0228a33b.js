(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0df483"],{"88f3":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,"close-on-click-modal":!1,"destroy-on-close":!0},on:{close:e.close}},[o("el-form",{ref:"form",staticClass:"dialog-form-container",attrs:{width:"40%",model:e.form,"label-width":"130px",rules:e.rules}},[o("el-form-item",{attrs:{label:e.$t("table.account"),prop:"login"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.login,callback:function(t){e.$set(e.form,"login",t)},expression:"form.login"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("login.password"),prop:"password"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("table.Name"),prop:"name"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("table.Sex"),prop:"sex"}},[o("el-select",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.options,(function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("table.Role"),prop:"roleId"}},[o("el-select",{on:{change:e.changeRoles},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}},e._l(e.roles,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("table.Phone"),prop:"phone"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.mobileNo,callback:function(t){e.$set(e.form,"mobileNo",t)},expression:"form.mobileNo"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"E-mail",prop:"email"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("table.Address"),prop:"name"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("table.remark"),prop:"remark"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{plain:""},on:{click:e.close}},[e._v(e._s(e.$t("permission.cancel")))]),e._v(" "),o("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary",plain:""},on:{click:e.save}},[e._v(e._s(e.$t("permission.confirm")))])],1)],1)},r=[],l=(o("7f7f"),o("ac6a"),o("96cf"),o("3b8d")),s=o("db72"),n=(o("c5f6"),o("ed08")),i=(o("61f7"),o("c24f")),m=o("2f62"),c={name:"Dialog",props:{id:{default:function(){return""},type:String},status:{default:function(){return 0},type:Number},formData:{default:function(){return{}},type:Object},visible:{default:function(){return!1},type:Boolean}},data:function(){return{loading:!1,form:{id:"",login:"",name:"",sex:"",roleName:"",mobileNo:"",email:"",address:"",remark:"",avatar:"",divisionIds:[0],langKey:"",password:"",roleIds:[0],status:"A"},roles:[],options:[{value:"M",label:"男"},{value:"F",label:"女"},{value:"U",label:"未知"}],rules:{login:[{required:!0,message:this.$t("table.account"),trigger:["blur","change"]}]}}},computed:Object(s["a"])({dialogVisible:function(){var e=!1;return this.visible&&(e=!0),e},dialogTitle:function(){var e=this.$t("table.add");return 1===this.status&&(e=this.$t("table.edit")),e}},Object(m["c"])({getters:function(e){return e.app.language}})),created:function(){this.getUserRoles(),this.form.langKey=this.getters},methods:{getUserRoles:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,1===this.status&&(this.form=Object(n["c"])(this.formData)),e.next=4,Object(i["h"])();case 4:o=e.sent,a=o.data,t.form.roleName&&(t.form.roleIds=[],a.forEach((function(e){e.name==t.form.roleName&&t.form.roleIds.push(e.id)}))),this.roles=a;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeRoles:function(e){var t=this;t.form.roleIds=[],this.roles.forEach((function(o){o.id==e&&(t.form.roleIds.push(e),t.form.roleName=o.name)}))},save:function(){var e=this,t=this;this.$refs.form.validate(function(){var o=Object(l["a"])(regeneratorRuntime.mark((function o(a){var r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!a){o.next=17;break}if(t.loading=!0,0!==t.status){o.next=11;break}return o.next=5,Object(i["a"])(t.form);case 5:o.sent,e.$message.success("success"),e.$emit("cb","refresh"),e.loading=!1,o.next=17;break;case 11:return o.next=13,Object(i["m"])(t.form);case 13:r=o.sent,console.log(r,"aaaaaaaaaaa"),e.$emit("cb","refresh"),e.loading=!1;case 17:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}())},close:function(){this.$emit("cb","close")}}},f=c,u=o("2877"),p=Object(u["a"])(f,a,r,!1,null,"51707fff",null);t["default"]=p.exports}}]);