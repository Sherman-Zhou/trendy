(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09bb1a41"],{"13a9":function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"k",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return m})),n.d(t,"b",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"i",(function(){return h}));var a=n("b775");function i(e){return Object(a["a"])({url:"/monitor/vehicles/search",method:"get",params:e})}function r(e){return Object(a["a"])({url:"/internal/equipment/lock",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/monitor/vehicle/current-state/".concat(e),method:"get"})}function c(e){return Object(a["a"])({url:"/monitor/trajectories",method:"get",params:e})}function l(e){return Object(a["a"])({url:"/vehicle-maintenances",method:"get",params:e})}function o(e){return Object(a["a"])({url:"/vehicle-maintenances",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/vehicle-maintenances",method:"put",data:e})}function m(e,t){return Object(a["a"])({url:"/vehicle-maintenances/".concat(e),method:"get",params:t})}function d(e){return Object(a["a"])({url:"/vehicle-maintenances/".concat(e),method:"delete"})}function f(e,t){return Object(a["a"])({url:"monitor/trajectoryIds/".concat(e),method:"get",params:t})}function h(e){return Object(a["a"])({url:"/monitor/trajectory-details",method:"get",params:e})}},1832:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return l}));var a=n("b775");function i(e){return Object(a["a"])({url:"/dict-types/VEHICLE-BRAND/".concat(e),method:"get"})}function r(e){return Object(a["a"])({url:"/vehicles",method:"get",params:e})}function s(e){return Object(a["a"])({url:"/vehicles/sync",method:"get",params:e})}function c(e){return Object(a["a"])({url:"/vehicles/".concat(e),method:"get"})}function l(e){return Object(a["a"])({url:"/vehicles",method:"put",data:e})}},"67e1":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("f576");function a(e){var t=new Date(e),n=t.getFullYear(),a=(t.getMonth()+1+"").padStart(2,"0"),i=(t.getDate()+"").padStart(2,"0"),r=(t.getHours()+"").padStart(2,"0"),s=(t.getMinutes()+"").padStart(2,"0"),c=(t.getSeconds()+"").padStart(2,"0");return"".concat(n,"-").concat(a,"-").concat(i," ").concat(r,":").concat(s,":").concat(c)}},7615:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"status_title"},[e._v(e._s(e.$t("table.CarsMaintenance")))]),e._v(" "),n("div",{staticClass:"filter-container"},[n("div",{staticClass:"filter-left basicCarsInformation"},[e._v("\n      "+e._s(e.$t("table.BasicCarsInformation"))+"：\n      "),n("span",{staticClass:"tankVolume"},[e._v("\n        "+e._s(e.$t("table.OilBoxcapacity"))+"：\n        "),n("el-input",{on:{change:e.inputNumber},model:{value:e.vehicleDetails.tankVolume,callback:function(t){e.$set(e.vehicleDetails,"tankVolume",e._n(t))},expression:"vehicleDetails.tankVolume"}}),e._v("L\n      ")],1),e._v(" "),n("span",{staticClass:"tankVolume"},[e._v("\n        "+e._s(e.$t("table.Oilconsumption"))+"：\n        "),n("el-input",{on:{change:e.inputNumber},model:{value:e.vehicleDetails.fuelConsumption,callback:function(t){e.$set(e.vehicleDetails,"fuelConsumption",e._n(t))},expression:"vehicleDetails.fuelConsumption"}}),e._v("Km/L\n      ")],1),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.Reset}},[e._v(e._s(e.$t("table.Reset")))])],1)]),e._v(" "),n("div",{staticClass:"filter-container"},[n("div",{staticClass:"filter-left"},[e._v(e._s(e.$t("table.MaintenanceInformation")))])]),e._v(" "),n("div",{staticClass:"filter-container"},[n("div",{staticClass:"filter-left maintenance"},[n("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v(e._s(e.$t("table.AddMaintenance")))]),e._v(" "),n("div",[e._v(e._s(e.$t("table.Prediction"))+"："+e._s(e.$t("table.RemainingOil"))+"："+e._s(e.VehicleStateDTO.remainingFuel)+" L")]),e._v(" "),n("div",[e._v(e._s(e.$t("table.MileageRightnow"))+"："+e._s(e.VehicleStateDTO.totalMileage)+" Km")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v(e._s(e.$t("table.Refresh")))])],1)]),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",border:""}},[n("el-table-column",{attrs:{type:"index",label:"#",align:"center",width:"80"}}),e._v(" "),n("el-table-column",{attrs:{prop:"createdDate",label:e.$t("table.Time"),align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"fuel",label:e.$t("table.FuelRemaining")+"(L)",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"mileage",label:e.$t("table.Mileage")+"(Km)",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"lastModifiedBy",label:e.$t("table.Recorder"),align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"remark",label:e.$t("table.remark"),align:"center"}}),e._v(" "),n("el-table-column",{attrs:{label:e.$t("table.Operation"),align:"center",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{plain:"",size:"mini",type:"primary"},on:{click:function(n){return e.edit(t.row)}}},[n("span",[e._v(e._s(e.$t("table.edit")))])]),e._v(" "),n("el-button",{attrs:{plain:"",size:"mini",type:"danger"},on:{click:function(n){return e.del(t.row)}}},[n("span",[e._v(e._s(e.$t("table.delete")))])])]}}])})],1),e._v(" "),n("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,"close-on-click-modal":!1,"destroy-on-close":!0,width:"40%"},on:{close:e.close}},[n("el-form",{ref:"form",staticClass:"dialog-form-container",attrs:{model:e.form,"label-width":"130px"}},[n("el-form-item",{attrs:{label:e.$t("table.FuelRemaining")}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.fuel,callback:function(t){e.$set(e.form,"fuel",t)},expression:"form.fuel"}}),e._v("L\n      ")],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("table.Mileage")}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.mileage,callback:function(t){e.$set(e.form,"mileage",t)},expression:"form.mileage"}}),e._v("Km\n      ")],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("table.Recorder")}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.lastModifiedBy,callback:function(t){e.$set(e.form,"lastModifiedBy",t)},expression:"form.lastModifiedBy"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("table.remark")}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{plain:""},on:{click:e.close}},[e._v(e._s(e.$t("permission.cancel")))]),e._v(" "),n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary",plain:""},on:{click:e.save}},[e._v(e._s(e.$t("permission.confirm")))])],1)],1)],1)},i=[],r=(n("3b2b"),n("ac6a"),n("96cf"),n("3b8d")),s=n("67e1"),c=n("13a9"),l=n("1832"),o={props:{vehicleId:{default:function(){return""}},vehicleDetails:{default:function(){return{}},type:Object},VehicleStateDTO:{default:function(){return{}},type:Object}},data:function(){return{value1:"",filter:{},loading:!1,list:[],form:{id:"",vehicleId:""},id:"",dialogVisible:!1,dialogTitle:this.$t("table.add")}},created:function(){this.vehicleId&&(this.getMaintenancese(),this.form.vehicleId=this.vehicleId)},methods:{search:function(){this.getMaintenancese()},getMaintenancese:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,Object(c["e"])({vehicleId:this.vehicleId});case 3:t=e.sent,n=t.data,n.forEach((function(e){e.createdDate=Object(s["a"])(e.createdDate)})),this.list=n,this.loading=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),check:function(e){var t=new RegExp("^[0-9]*$"),n=t.test(e);return n},inputNumber:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.check(this.vehicleDetails.tankVolume),t){e.next=5;break}return this.$message.warning("Not Number!"),this.vehicleDetails.tankVolume="",e.abrupt("return");case 5:if(n=this.check(this.vehicleDetails.fuelConsumption),n){e.next=10;break}return this.$message.warning("Not Number!"),this.vehicleDetails.fuelConsumption="",e.abrupt("return");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),Reset:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.vehicleDetails.tankVolume){e.next=3;break}return this.$message.warning("Not Number!"),e.abrupt("return");case 3:if(this.vehicleDetails.fuelConsumption){e.next=6;break}return this.$message.warning("Not Number!"),e.abrupt("return");case 6:return e.next=8,Object(l["e"])(this.vehicleDetails);case 8:e.sent,this.$emit("cb",this.vehicleId);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),add:function(){this.dialogVisible=!0},edit:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.id=t.id,this.dialogTitle=this.$t("table.edit"),e.next=4,Object(c["f"])(this.id);case 4:n=e.sent,a=n.data,this.form=a,this.dialogVisible=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),save:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.id){e.next=9;break}return e.next=3,Object(c["a"])(this.form);case 3:t=e.sent,t.data,this.getMaintenancese(),this.dialogVisible=!1,e.next=17;break;case 9:return n={vehicleId:this.vehicleId,id:this.form.id,lastModifiedBy:this.form.lastModifiedBy,fuel:this.form.fuel,mileage:this.form.mileage,remark:this.form.remark},e.next=12,Object(c["c"])(n);case 12:a=e.sent,a.data,this.getMaintenancese(),this.dialogVisible=!1,this.form={};case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),close:function(){this.dialogVisible=!1},del:function(e){var t=this,n=this;this.$confirm(this.$t("permission.delete"),{confirmButtonText:this.$t("permission.confirm"),cancelButtonText:this.$t("permission.cancel"),type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["b"])(e.id);case 2:t.sent,n.$message({message:"success",type:"success"}),n.getMaintenancese();case 5:case"end":return t.stop()}}),t)})))).catch((function(){n.$message({type:"info",message:t.$t("permission.cancel")})}))}}},u=o,m=(n("b9d7"),n("2877")),d=Object(m["a"])(u,a,i,!1,null,null,null);t["default"]=d.exports},b9d7:function(e,t,n){"use strict";var a=n("d898"),i=n.n(a);i.a},d898:function(e,t,n){}}]);