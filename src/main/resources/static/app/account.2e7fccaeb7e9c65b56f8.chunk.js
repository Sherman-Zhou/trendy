(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{737:function(e,a,t){},740:function(e,a,t){t.r(a);var s=t(1),r=t.n(s),l=t(81),n=t(164),o=t(165),c=t(67),m=t(19),i=t(7),g=t(68),d=t(61),u=t(30),b=t(283);const v={getSession:u.c,saveAccountSettings:b.c,reset:b.b};var p=Object(m.connect)(({authentication:e})=>({account:e.account,isAuthenticated:e.isAuthenticated}),v)(e=>{Object(s.useEffect)(()=>(e.getSession(),()=>{e.reset()}),[]);return r.a.createElement("div",null,r.a.createElement(n.a,{className:"justify-content-center"},r.a.createElement(o.a,{md:"8"},r.a.createElement("h2",{id:"settings-title"},r.a.createElement(i.Translate,{contentKey:"settings.title",interpolate:{username:e.account.login}},"User settings for ",e.account.login)),r.a.createElement(g.AvForm,{id:"settings-form",onValidSubmit:(a,t)=>{const s=Object.assign(Object.assign({},e.account),t);e.saveAccountSettings(s),a.persist()}},r.a.createElement(g.AvField,{className:"form-control",name:"firstName",label:Object(i.translate)("settings.form.firstname"),id:"firstName",placeholder:Object(i.translate)("settings.form.firstname.placeholder"),validate:{required:{value:!0,errorMessage:Object(i.translate)("settings.messages.validate.firstname.required")},minLength:{value:1,errorMessage:Object(i.translate)("settings.messages.validate.firstname.minlength")},maxLength:{value:50,errorMessage:Object(i.translate)("settings.messages.validate.firstname.maxlength")}},value:e.account.firstName}),r.a.createElement(g.AvField,{className:"form-control",name:"lastName",label:Object(i.translate)("settings.form.lastname"),id:"lastName",placeholder:Object(i.translate)("settings.form.lastname.placeholder"),validate:{required:{value:!0,errorMessage:Object(i.translate)("settings.messages.validate.lastname.required")},minLength:{value:1,errorMessage:Object(i.translate)("settings.messages.validate.lastname.minlength")},maxLength:{value:50,errorMessage:Object(i.translate)("settings.messages.validate.lastname.maxlength")}},value:e.account.lastName}),r.a.createElement(g.AvField,{name:"email",label:Object(i.translate)("global.form.email.label"),placeholder:Object(i.translate)("global.form.email.placeholder"),type:"email",validate:{required:{value:!0,errorMessage:Object(i.translate)("global.messages.validate.email.required")},minLength:{value:5,errorMessage:Object(i.translate)("global.messages.validate.email.minlength")},maxLength:{value:254,errorMessage:Object(i.translate)("global.messages.validate.email.maxlength")}},value:e.account.email}),r.a.createElement(g.AvField,{type:"select",id:"langKey",name:"langKey",className:"form-control",label:Object(i.translate)("settings.form.language"),value:e.account.langKey},d.b.map(e=>r.a.createElement("option",{value:e,key:e},d.a[e].name))),r.a.createElement(c.a,{color:"primary",type:"submit"},r.a.createElement(i.Translate,{contentKey:"settings.form.button"},"Save"))))))});t(737);var password_password_strength_bar=({password:e})=>{const a=["#F00","#F90","#FF0","#9F0","#0F0"],t=(e=>{const a=[];for(let t=0;t<5;t++)a.push(r.a.createElement("li",{key:t,className:"point",style:t<e.idx?{backgroundColor:e.col}:{backgroundColor:"#DDD"}}));return a})((e=>{let t=0;return t=e<=10?0:e<=20?1:e<=30?2:e<=40?3:4,{idx:t+1,col:a[t]}})((e=>{let a=0;const t={lowerLetters:/[a-z]+/.test(e),upperLetters:/[A-Z]+/.test(e),numbers:/[0-9]+/.test(e),symbols:/[$-/:-?{-~!"^_`[\]]/g.test(e)},s=Object.values(t).filter(e=>!!e).length;return a+=2*e.length+(e.length>=10?1:0),a+=10*s,a=e.length<=6?Math.min(a,10):a,a=1===s?Math.min(a,10):a,a=2===s?Math.min(a,20):a,a=3===s?Math.min(a,40):a,a})(e)));return r.a.createElement("div",{id:"strength"},r.a.createElement("small",null,r.a.createElement(i.Translate,{contentKey:"global.messages.validate.newpassword.strength"},"Password strength:")),r.a.createElement("ul",{id:"strengthBar"},t))},h=t(282);const w={getSession:u.c,savePassword:h.c,reset:h.b};var f=Object(m.connect)(({authentication:e})=>({account:e.account,isAuthenticated:e.isAuthenticated}),w)(e=>{const[a,t]=Object(s.useState)("");Object(s.useEffect)(()=>(e.reset(),e.getSession(),()=>e.reset()),[]);return r.a.createElement("div",null,r.a.createElement(n.a,{className:"justify-content-center"},r.a.createElement(o.a,{md:"8"},r.a.createElement("h2",{id:"password-title"},r.a.createElement(i.Translate,{contentKey:"password.title",interpolate:{username:e.account.login}},"Password for ",e.account.login)),r.a.createElement(g.AvForm,{id:"password-form",onValidSubmit:(a,t)=>{e.savePassword(t.currentPassword,t.newPassword)}},r.a.createElement(g.AvField,{name:"currentPassword",label:Object(i.translate)("global.form.currentpassword.label"),placeholder:Object(i.translate)("global.form.currentpassword.placeholder"),type:"password",validate:{required:{value:!0,errorMessage:Object(i.translate)("global.messages.validate.newpassword.required")}}}),r.a.createElement(g.AvField,{name:"newPassword",label:Object(i.translate)("global.form.newpassword.label"),placeholder:Object(i.translate)("global.form.newpassword.placeholder"),type:"password",validate:{required:{value:!0,errorMessage:Object(i.translate)("global.messages.validate.newpassword.required")},minLength:{value:4,errorMessage:Object(i.translate)("global.messages.validate.newpassword.minlength")},maxLength:{value:50,errorMessage:Object(i.translate)("global.messages.validate.newpassword.maxlength")}},onChange:e=>t(e.target.value)}),r.a.createElement(password_password_strength_bar,{password:a}),r.a.createElement(g.AvField,{name:"confirmPassword",label:Object(i.translate)("global.form.confirmpassword.label"),placeholder:Object(i.translate)("global.form.confirmpassword.placeholder"),type:"password",validate:{required:{value:!0,errorMessage:Object(i.translate)("global.messages.validate.confirmpassword.required")},minLength:{value:4,errorMessage:Object(i.translate)("global.messages.validate.confirmpassword.minlength")},maxLength:{value:50,errorMessage:Object(i.translate)("global.messages.validate.confirmpassword.maxlength")},match:{value:"newPassword",errorMessage:Object(i.translate)("global.messages.error.dontmatch")}}}),r.a.createElement(c.a,{color:"success",type:"submit"},r.a.createElement(i.Translate,{contentKey:"password.form.button"},"Save"))))))});a.default=({match:e})=>r.a.createElement("div",null,r.a.createElement(l.a,{path:`${e.url}/settings`,component:p}),r.a.createElement(l.a,{path:`${e.url}/password`,component:f}))}}]);